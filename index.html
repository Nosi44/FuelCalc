<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>–†–∞—Å—Ö–æ–¥ —Ç–æ–ø–ª–∏–≤–∞</title>

<style>
body{
    font-family: Arial, sans-serif;
    background:#f2f2f2;
    padding:8px;
}

.month{
    background:#fff;
    padding:6px;
    margin-bottom:6px;
    border-radius:8px;
    display:flex;
    flex-wrap:nowrap;
    align-items:center;
    gap:3px;
    overflow-x:auto;
}

.month b{ min-width:85px; }

input, select{
    padding:3px;
    font-size:13px;
}

input{ width:55px; }

.result{
    font-weight:bold;
    min-width:55px;
    text-align:right;
}

.total{
    font-size:18px;
    font-weight:bold;
    margin-top:10px;
}

.converter{
    margin-top:20px;
    background:#ffffff;
    padding:10px;
    border-radius:8px;
}

#words{
    margin-top:8px;
    font-weight:bold;
}
</style>
</head>

<body>

<h2>–†–∞—Å—Ö–æ–¥ —Ç–æ–ø–ª–∏–≤–∞</h2>

<div id="months"></div>
<div class="total" id="total">–°—É–º–º–∞: 0.00 —Å–∫–ª.–º.</div>

<!-- üî• –ö–û–ù–í–ï–†–¢–ï–† -->
<div class="converter">
    <input type="number" id="numInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –¥–æ 100 000 000">
    <div id="words"></div>
</div>

<script>

const temp_coef={
"+8":0.43,"+7":0.47,"+6":0.51,"+5":0.555,"+4":0.60,"+3":0.645,
"+2":0.69,"+1":0.73,"0":0.77,"-1":0.815,"-2":0.86,"-3":0.90,
"-4":0.94,"-5":0.995,"-6":1.03,"-7":1.07,"-8":1.11,"-9":1.155,
"-10":1.20,"-11":1.245,"-12":1.29,"-13":1.33,"-14":1.37,
"-15":1.415,"-16":1.46,"-17":1.50,"-18":1.54,"-19":1.585,
"-20":1.63,"-21":1.67,"-22":1.71,"-23":1.755,"-24":1.80,
"-25":1.845,"-26":1.89,"-27":1.93,"-28":1.97,"-29":2.015,"-30":2.06
};

const wood_coef={
"–°–º–µ—à–∞–Ω—ã–µ":0.186,"–ö–ª–µ–Ω":0.262,"–ì—Ä–∞–±":0.290,"–Ø—Å–µ–Ω—å":0.274,
"–î—É–±":0.285,"–ë—É–∫":0.253,"–ë–µ—Ä–µ–∑–∞":0.230,"–í—è–∑":0.250,
"–°–æ—Å–Ω–∞":0.208,"–û–ª—å—Ö–∞":0.193,"–ï–ª—å":0.178,"–û—Å–∏–∫–∞":0.183,
"–õ–∏–ø–∞":0.179,"–ü–∏—Ö—Ç–∞":0.175,"–¢–æ–ø–æ–ª—å":0.146
};

const months=["–û–∫—Ç—è–±—Ä—å","–ù–æ—è–±—Ä—å","–î–µ–∫–∞–±—Ä—å","–Ø–Ω–≤–∞—Ä—å","–§–µ–≤—Ä–∞–ª—å","–ú–∞—Ä—Ç"];
const rows=[];

function createRow(name){
    const div=document.createElement("div");
    div.className="month";

    const temp=select(temp_coef);
    const area=input("25");
    const days=input("30");
    const burj=input("0.44");
    const wood=select(wood_coef);
    const check=document.createElement("input");
    check.type="checkbox";
    check.checked=true;
    const result=document.createElement("span");
    result.className="result";

    [temp,area,days,burj,wood,check].forEach(e=>e.oninput=calc);

    div.innerHTML=`<b>${name}</b>`;
    div.append(temp,"√ó",area,"√ó",days,"/",burj,"/",wood,"=",result," ",check);

    rows.push({temp,area,days,burj,wood,check,result});
    document.getElementById("months").append(div);
}

function input(v){
    const i=document.createElement("input");
    i.value=v;
    return i;
}

function select(obj){
    const s=document.createElement("select");
    for(let k in obj){
        const o=document.createElement("option");
        o.value=o.textContent=k;
        s.append(o);
    }
    return s;
}

function calc(){
    let total=0;
    rows.forEach(r=>{
        try{
            const v=temp_coef[r.temp.value]
                    *+r.area.value
                    *+r.days.value
                    /+r.burj.value
                    /wood_coef[r.wood.value]
                    /1000;

            r.result.textContent=v.toFixed(2);
            if(r.check.checked) total+=v;
        }catch{
            r.result.textContent="‚Ä¶";
        }
    });

    document.getElementById("total").textContent=
        `–°—É–º–º–∞: ${total.toFixed(2)} —Å–∫–ª.–º.`;
}

months.forEach(createRow);
calc();


// ==========================
// üî• –ö–û–ù–í–ï–†–¢–ï–† –î–û 100 –ú–õ–ù
// ==========================

const ones=["","–æ–¥–∏–Ω","–¥–≤–∞","—Ç—Ä–∏","—á–µ—Ç—ã—Ä–µ","–ø—è—Ç—å","—à–µ—Å—Ç—å","—Å–µ–º—å","–≤–æ—Å–µ–º—å","–¥–µ–≤—è—Ç—å"];
const teens=["–¥–µ—Å—è—Ç—å","–æ–¥–∏–Ω–Ω–∞–¥—Ü–∞—Ç—å","–¥–≤–µ–Ω–∞–¥—Ü–∞—Ç—å","—Ç—Ä–∏–Ω–∞–¥—Ü–∞—Ç—å","—á–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç—å",
"–ø—è—Ç–Ω–∞–¥—Ü–∞—Ç—å","—à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç—å","—Å–µ–º–Ω–∞–¥—Ü–∞—Ç—å","–≤–æ—Å–µ–º–Ω–∞–¥—Ü–∞—Ç—å","–¥–µ–≤—è—Ç–Ω–∞–¥—Ü–∞—Ç—å"];
const tens=["","","–¥–≤–∞–¥—Ü–∞—Ç—å","—Ç—Ä–∏–¥—Ü–∞—Ç—å","—Å–æ—Ä–æ–∫","–ø—è—Ç—å–¥–µ—Å—è—Ç",
"—à–µ—Å—Ç—å–¥–µ—Å—è—Ç","—Å–µ–º—å–¥–µ—Å—è—Ç","–≤–æ—Å–µ–º—å–¥–µ—Å—è—Ç","–¥–µ–≤—è–Ω–æ—Å—Ç–æ"];
const hundreds=["","—Å—Ç–æ","–¥–≤–µ—Å—Ç–∏","—Ç—Ä–∏—Å—Ç–∞","—á–µ—Ç—ã—Ä–µ—Å—Ç–∞",
"–ø—è—Ç—å—Å–æ—Ç","—à–µ—Å—Ç—å—Å–æ—Ç","—Å–µ–º—å—Å–æ—Ç","–≤–æ—Å–µ–º—å—Å–æ—Ç","–¥–µ–≤—è—Ç—å—Å–æ—Ç"];

function chunkToWords(n){
    let str="";
    if(n>=100){
        str+=hundreds[Math.floor(n/100)]+" ";
        n%=100;
    }
    if(n>=20){
        str+=tens[Math.floor(n/10)]+" ";
        n%=10;
    }else if(n>=10){
        str+=teens[n-10]+" ";
        return str;
    }
    if(n>0){
        str+=ones[n]+" ";
    }
    return str;
}

function numberToWords(num){
    if(num==0) return "–Ω–æ–ª—å";

    let result="";

    if(num>=1000000){
        result+=chunkToWords(Math.floor(num/1000000))+"–º–∏–ª–ª–∏–æ–Ω ";
        num%=1000000;
    }
    if(num>=1000){
        result+=chunkToWords(Math.floor(num/1000))+"—Ç—ã—Å—è—á ";
        num%=1000;
    }
    if(num>0){
        result+=chunkToWords(num);
    }

    return result.trim();
}

document.getElementById("numInput").oninput=function(){
    const v=parseInt(this.value);
    if(!isNaN(v)&&v<=100000000){
        document.getElementById("words").textContent=numberToWords(v);
    }else{
        document.getElementById("words").textContent="";
    }
};

</script>
</body>
</html>
